# Chapter 12. 내부 클래스, 람다식, 스트림 - 1.내부 클래스

교육 과정에서 제공되는 강의 자료(동영상)을 보면서 부족한 내용은 **남궁성님의 Java의 정석 3판**을 추가적으로 읽으며 학습하였습니다.

---

## 내부 클래스(inner class)

```java
class Outer {
	class InstanceInner {}
	static class StaticInner {}

	void myMethod() {
		class LocalInner {}
	}
}
```

- 클래스 내부에서 사용하기 위해 클래스 내에 선언된 클래스(중첩된 클래스)
- 주로 외부 클래스 생성자에서 내부 클래스를 생성
- 내부 클래스의 장점
  - 내부 클래스에서 외부 클래스의 멤버들에 쉽게 접근할 수 있다.
  - 코드의 복잡성을 줄일 수 있다. (캡슐화)
- 내부 클래스의 종류

  - instance class - 인스턴스 내부 클래스
    - 구현 위치 : 외부 클래스의 멤버변수 선언위치에 선언
    - 사용할 수 있는 외부 클래스 변수 : 외부 인스턴스 변수, 외부 전역 변수
    - 생성 방법 : 외부 클래스를 먼저 만든 후 내부 클래스 생성
    - 외부 클래스의 인스턴스 멤버처럼 다루어진다.
    - 주로 외부 클래스의 인스턴스멤버들과 관련된 작업에 사용될 목적으로 선언된다.
  - static class - 정적 내부 클래스
    - 구현 위치 : 외부 클래스의 멤버변수 선언위치에 선언
    - 사용할 수 있는 외부 클래스 변수 : 외부 전역 변수
    - 생성 방법 : 외부 클래스와 무관하게 생성
    - 외부 클래스의 `static`멤버처럼 다루어진다.
    - 주로 외부 클래스의 `static`멤버, 특히 `static`메서드에 사용될 목적으로 선언된다.
  - local class - 지역 내부 클래스
    - 구현 위치 : 외부 클래스의 메서드나 초기화 블럭 내부에 선언
    - 사용할 수 있는 외부 클래스 변수 : 외부 인스턴스 변수, 외부 전역 변수
    - 생성 방법 : 메서드를 호출할 때 생성
    - 선언된 영역 내부(scope)에서만 사용될 수 있다.
  - anonymous class - 익명 내부 클래스

    ```java
    new 조상클래스이름() {
    	// 멤버 선언
    }

    new 구현인터페이스이름() {
    	// 멤버 선언
    }
    ```

    - 구현 위치 : 메서드 내부, 변수에 대입하여 직접 구현
    - 사용할 수 있는 외부 클래스 변수 : 외부 인스턴스 변수, 외부 전역 변수
    - 생성 방법 : 메서드를 호출할 때 생성되거나, 인터페이스 타입 변수에 대입할 때 `new` 예약어를 사용하여 생성
    - 클래스의 선언과 객체의 생성을 동시에 하는 이름없는 클래스(일회용)

- 내부 클래스의 제어자는 변수에 사용 가능한 제어자와 동일하다.
- 내부 클래스 중에서 스태틱 클래스만 `static`멤버를 가질 수 있다. `final`과 `static`이 동시에 붙은 변수는 상수(constant)이므로 모든 내부 클래스에서 정의가 가능하다.
- 인스턴스클래스는 스태틱 클래스의 멤버들을 객체생성 없이 사용할 수 있지만, 스태틱 클래스에서는 인스턴스클래스의 멤버들을 객체생성 없이 사용할 수 없다.
- 내부 클래스에서는 외부 클래스의 `private`멤버도 접근 가능하다.
- 지역 클래스에서는 외부 클래스의 인스턴스멤버와 `static`멤버를 모두 사용할 수 있으며, 지역변수는 상수만 접근 가능하다. (JDK1.8부터 지역 클래스에서 접근하는 지역 변수 앞에 `final` **생략 가능**하게 변경, 생략일뿐 상수임에 주의)

---

## Reference

남궁성, 『Java의 정석 3판』, 도우출판(2016), p403-411(Chapter 07 - 객체지향 프로그래밍 II 中 8.내부 클래스).
