# Chapter 07. 상속과 다형성 - 1.상속

교육 과정에서 제공되는 강의 자료(동영상)을 보면서 부족한 내용은 **남궁성님의 Java의 정석 3판**을 추가적으로 읽으며 학습하였습니다.

---

## 상속(inheritance)

```java
class Parent { }
class Child extends Parent {
	// ...
}
```

- 이미 구현된 기존의 클래스로 속성이나 기능이 확장되는 새로운 클래스를 작성하는 것. (코드의 재사용)  
  → 코드의 추가 및 변경 용이, 생산성과 유지보수에 기여
- 두 클래스를 부모-자식으로 관계를 맺어주는 것.
- 조상 클래스 = 부모(parent) 클래스, 상위(super) 클래스, 기반(base) 클래스
- 자손 클래스 = 자식(child) 클래스, 하위(sub) 클래스, 파생된(derived) 클래스
- 자손은 조상(부모의 부모 포함)의 모든 멤버를 상속받는다. (생성자, 초기화블럭 제외)
- 자손의 멤버 개수는 조상보다 적을 수 없다. (같거나 많다)
- 자손의 변경은 조상에 영향을 미치지 않는다.
- '~은 ~이다.' (`is-a`)
- 전체 프로그램을 구성하는 클래스들을 면밀히 설계 분석하여, 클래스간의 상속관계를 적절히 맺어 주는 것이 객체지향 프로그래밍에서 가장 중요!!!
- 단일 상속(Single Inheritance)
  - Java는 단일상속(하나의 부모만 상속)만을 허용한다.(C++은 다중상속 허용)
  - 비중이 높은 클래스 하나만 상속관계로, 나머지는 포함관계로 한다.
- `Object` 클래스 - 모든 클래스의 조상
  - 부모가 없는 클래스는 자동적으로 `Object` 클래스를 상속받게 된다. (컴파일러가 자동으로 추가)
  - 모든 클래스는 `Object` 클래스에 정의된 11개의 메서드를 상속받는다.
    - `toString()`, `equals(Object obj)`, `hashCode()`, ...
- 상위 클래스로의 묵시적 형변환(업캐스팅)
  - 상위 클래스 형으로 변수를 선언하고 하위 클래스 인스턴스를 생성 할 수 있음
  - 하위 클래스는 상위 클래스의 타입을 내포하고 있으므로 상위 클래스로 묵시적 형변환 가능

## 포함(composite)

```java
class Circle {
	Point p = new Point(x, y); // 원점
	int r;                     // 반지름
}
```

- 클래스의 멤버로 참조변수를 선언하는 것
- 작은 단위의 클래스를 만들고, 이 들을 조합해서 클래스를 만든다. → 복잡도가 줄어든다.
- '~은 ~을 가지고 있다. (`has-a`)

## 오버라이딩(overriding)

- 상속받은 조상의 메서드의 내용을 자신에 맞게 변경하는 것 (override: v.덮어쓰다)
- 오버라이딩의 조건 : 자손 클래스에서 오버라이딩하는 메서드는 조상 클래스의 메서드와
  1. 선언부가 조상 클래스의 메서드와 일치해야 한다. (접근 제어자와 예외는 제한된 조건 하에서 변경 가능)
     - 이름이 같아야 한다.
     - 매개변수가 같아야 한다.
     - 반환타입이 같아야 한다. (JDK1.5부터 공변 반환타입(covariant return type)이 추가되어, 반환타입을 자손 클래스의 타입으로 변경하는 것은 가능)
  2. 접근 제어자를 조상 클래스의 메서드보다 좁은 범위로 변경할 수 없다.
  3. 예외는 조상 클래스의 메서드보다 많이 선언할 수 없다.
  4. 인스턴스메서드를 static메서드로 또는 그 반대로 변경할 수 없다.
     - 조상 클래스에 정의된 static메서드를 자손 클래스에서 똑같은 이름의 static메서드로 정의하는 것은 각 클래스에 별개의 static메서드를 정의한 것일 뿐 오버라이딩은 아님
- 오버로딩(overloading) - 기존에 없는 새로운 메서드를 정의하는 것 (new)  
  오버라이딩(overriding) - 상속받은 메서드의 내용을 변경하는 것 (change, modify)
- 참조변수 `super`
  - 객체 자신을 가리키는 참조변수. 인스턴스 메서드(생성자)내에만 존재
  - 조상의 멤버를 자신의 멤버와 구별할 때 사용
  - 조상클래스의 메서드의 내용에 추가적으로 작업을 덧붙이는 경우라면 `super`를 사용해서 조상클래스의 메서드를 포함시키는 것이 좋다. → 후에 조상클래스의 메서드가 변경되더라도 변경된 내용이 자손클래스의 메서드에 자동적으로 반영
- 조상 클래스의 생성자 `super()`
  - 조상의 생성자를 호출할 때 사용
  - 조상의 멤버는 조상의 생성자를 호출해서 초기화
  - `Object` 클래스를 제외한 **모든 클래스의 생성자 첫 줄에 반드시 생성자를 호출**해야 한다.  
    그렇지 않으면 컴파일러가 자동적으로 `super();`를 생성자의 첫 줄에 삽입
  - 어떤 클래스의 인스턴스를 생성하면, 클래스 상속관계의 최고조상인 `Object` 클래스까지 거슬러 올라가면서 모든 조상클래스의 생성자가 순서대로 호출된다.
- `@Override` 애노테이션(Annotation)
  - 애노테이션은 컴파일러에게 특정한 정보를 제공해주는 역할
  - 재정의된 메서드라는 의미로 선언부가 기존의 메서드와 다른 경우 에러 발생
  - `@Override` 외에도 주로 사용되는 자바에서 제공하는 애노테이션으로,  
    `@FunctionalInterface` - 함수형 인터페이스,  
    `@Deprecated` - 이후 버전에서 사용되지 않을 수 있는 변수, 메서드  
    `@SuppressWarnings` - 특정 경고가 나타나지 않도록 함  
    등이 있다.
- 가상 메서드(virtual method) : 메서드의 이름과 메서드 주소를 가진 가상 메서드 테이블에서 호출될 메서드의 주소를 참조함

---

## Reference

남궁성, 『Java의 정석 3판』, 도우출판(2016), p310-326(Chapter 07 - 객체지향 프로그래밍 II 中 1.상속).  
남궁성, 『Java의 정석 3판』, 도우출판(2016), p327-335(Chapter 07 - 객체지향 프로그래밍 II 中 2.오버라이딩).
