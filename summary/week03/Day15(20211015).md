# Chapter 09. 인터페이스

교육 과정에서 제공되는 강의 자료(동영상)을 보면서 부족한 내용은 **남궁성님의 Java의 정석 3판**을 추가적으로 읽으며 학습하였습니다.

---

## 인터페이스(interface)

```java
interface 인터페이스이름 {
	public static final 타입 상수이름 = 값;
	public abstract 메서드이름(매개변수목록);
}

class 클래스이름 implements 인터페이스이름 {
	// 인터페이스에 정의된 추상메서드를 모두 구현해야 한다.
}
```

- 클라이언트 프로그램에 어떤 메서드를 제공하는지 알려주는 명세(specification) 또는 약속 → 클라이언트 프로그램은 실제 구현내용을 몰라도 인터페이스 정의만 알면 그 객체를 사용할 수 있음
- 오직 추상메서드와 상수만을 멤버로 가질 수 있는 추상 메서드의 집합 → 구현된 것은 아무 것도 없고 밑그림만 그려져 있는 기본 설계도.
  - 모든 멤버변수는 `public static final`이어야 하며, 이를 생략할 수 있다.
  - 모든 메서드는 `public abstract`이어야 하며, 이를 생략할 수 있다. (단, JDK1.8부터 `static` 메서드와 `default` 메서드는 예외)
  - 생략된 제어자는 컴파일 시에 컴파일러가 자동적으로 추가해 준다.
- 인터페이스로부터만 상속받을 수 있으며(`Object`가 최고 조상 X), 추상메서드는 충돌해도 문제가 없으므로 다중상속이 가능하다. 구현 내용이 없으므로 타입 상속(type ingeritance)라고 한다.
- `implements` 키워드를 사용하여 구현하며, 일부만 구현하는 경우 클래스 앞에 `abstract`를 붙여 추상클래스로 선언해야 한다.
- 어떠한 기능 또는 행위를 하는데 필요한 메서드를 제공한다는 의미를 강조하기 위해서 `~able`로 끝나는 이름이 많다.
- 상속 대신 구현이라는 용어를 사용하지만, 인터페이스 역시 이를 구현한 클래스의 조상이라 할 수 있으므로 해당 인터페이스 타입의 참조변수로 이를 구현한 클래스의 인스턴스를 참조할 수 있으며, 인터페이스 타입으로 형변환도 가능(다형성)
  - 인터페이스를 메서드의 매개변수 타입으로로 사용할 수 있다. → 해당 인터페이스를 구현한 클래스의 인스턴스를 매개변수로 제공
  - 인터페이스를 메서드의 리턴타입으로 지정할 수 있다. → 메서드가 해당 인터페이스를 구현한 클래스의 인스턴스를 반환
- 인터페이스의 장점
  - 개발 시간을 단축할 수 있다.
    - 일단 인터페이스가 작성되면 이를 사용해서 프로그램을 작성하는 것이 가능하므로, 인터페이스를 구현하는 클래스가 작성될 때까지 기다리지 않고도 양쪽에서 동시에 개발을 진행할 수 있다.
  - 표준화가 가능하다.
    - 기본 틀을 인터페이스로 작성한 다음, 개발자들에게 인터페이스를 구현하여 프로그램을 작성하도록 함으로써 보다 일관되고 정형화된 프로그램의 개발이 가능하다.
    - ex) JDBC → 특정 데이터베이스에 종속되지 않는 프로그램 작성 가능
  - 서로 관계없는 클래스들에게 관계를 맺어 줄 수 있다.
    - 상속관계에 있지도 않고, 같은 조상클래스를 가지고 있지 않은 서로 아무런 관계도 없는 클래스들에게 하나의 인터페이스를 공통적으로 구현하도록 함으로써 관계를 맺어줄 수 있다.
    - 두 대상(객체) 간의 '연결, 대화, 소통'을 돕는 '중간 역할'을 한다.
  - 독립적인 프로그래밍이 가능하다.
    - 클래스의 선언(설계)와 구현을 분리시킬 수 있기 때문에 실제 구현에 독립적인 프로그램을 작성하는 것이 가능하다.
    - 클래스간의 직접적인 관계를 인터페이스를 이용한 간접적인 관계(느슨한 결합)으로 변경하면, 한 클래스에 변경이 관련된 다른 클래스에 영향을 미치지 않는 독립적인 프로그래밍이 가능하다. → 변경에 유리
- default method(JDK 1.8 이상)

  - 인터페이스에 새로운 메서드(추상 메서드)를 추가하기 어려움 ⇒ 디폴트 메서드가 해결책으로 등장
  - 기본 구현을 가지는 메서드. 구현하는 클래스에서 재정의 할 수 있다.
  - 디폴트 메서드는 인스턴스 메서드(인터페이스 원칙 위반)
  - 디폴트 메서드가 기존의 메서드와 충돌할 때의 해결책

    1. 여러 인터페이스의 디폴트 메서드 간의 충돌

       인터페이스를 구현한 클래스에서 디폴트 메서드를 오버라이딩해야 한다.

    2. 디폴트 메서드와 조상 클래스의 메서드 간의 충돌

       조상 클래스의 메서드가 상속되고, 디폴트 메서드는 무시된다.

- static method(JDK 1.8 이상)
  - 인스턴스와 관계가 없는 독립적인 메서드이기 때문에 인터페이스에 추가할 수 있다.
  - 인스턴스 생성과 상관없이 인터페이스 타입으로 호출하는 메서드
- private method(JDK 1.9 이상)
  - 인터페이스 내에서 사용하기 위해 구현한 메서드.
  - 구현하는 클래스에서 재정의 할 수 없음.
- design pattern - strategy pattern  
  인터페이스를 활용하면 다양한 정책이나 알고리즘을 프로그램의 큰 수정 없이 적용, 확장할 수 있다.

---

## Reference

남궁성, 『Java의 정석 3판』, 도우출판(2016), p381-402(Chapter 07 - 객체지향 프로그래밍 II 中 7.인터페이스).
